<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="version" content="1748172256815"><title>hexo d 部署博客时出现 &#34;spawn failed&#34; 解决办法 - 终末地铁</title><link rel="stylesheet" href="/css/style.css?v=1748172256816"><link rel="shortcut icon" href="/images/favicon.ico?v=1748172256816" type="image/x-icon"><link rel="icon" href="/images/favicon.ico?v=1748172256816" type="image/x-icon"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/vs.min.css"><script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/core.min.js"></script><script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/languages/javascript.min.js"></script><script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/languages/css.min.js"></script><script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/languages/scss.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="终末地铁" type="application/atom+xml"></head><body><div id="container"><div id="headerArea"><div id="header"><h1 class="site-title">终末地铁</h1></div><nav id="navbar"><ul><li><a href="/">首页</a></li><li><a href="/archives/">归档</a></li><li><a href="/articles/">文章</a></li><li><a href="/atom.xml">订阅</a></li></ul></nav></div><div id="flex"><div id="leftColumn"><aside id="aboutmeSidebar"><h2>关于我</h2><div class="inner"><img src="/images/avatar.png" alt="aboutme Avatar"><p>你可以叫我：右赤<br><img src="https://pic1.imgdb.cn/item/6830516258cb8da5c80a7950.png" alt="divider" class="divider"><br>目前喜欢：视觉小说（非galgame），写作（盲目地，也许因为我对阅读并不狂热，甚至算不上爱好）。<br><img src="https://pic1.imgdb.cn/item/6830516258cb8da5c80a7950.png" alt="divider" class="divider"><br>我很欣赏作词家秋元康，他创办的欅坂46是我最喜欢的偶像团体，歌词占很大一部分原因。<br><img src="https://pic1.imgdb.cn/item/6830516258cb8da5c80a7950.png" alt="divider" class="divider"><br>就先这样吧，以后想到再更新(^▽^ )</p><br><img src="https://pic1.imgdb.cn/item/6806812a58cb8da5c8bd2b7d.gif" alt="divider" class="divider"></div></aside><aside id="toolsSidebar"><h2>传送门</h2><ul><li><a target="_blank" rel="noopener" href="https://goblin-heart.net/sadgrl/projects/layout-builder/">Sadgrl's Layout Builder</a></li><li><a target="_blank" rel="noopener" href="https://fonts.zeoseven.com/">ZSFT</a></li><li><a target="_blank" rel="noopener" href="https://gifypet.neocities.org/">GIFY PET</a></li><li><a target="_blank" rel="noopener" href="https://gifcities.org/">GifCities</a></li><li><a target="_blank" rel="noopener" href="https://benisland.neocities.org/petpet/">PetPet Generator</a></li><li><a target="_blank" rel="noopener" href="https://neocities.org/">Neocities</a></li></ul></aside></div><main><h1>hexo d 部署博客时出现 &#34;spawn failed&#34; 解决办法</h1><div class="post-content"><p>今天在部署hexo博客时，hexo d后出现”<strong>Error: Spawn failed</strong>“报错日志。<br>这表明在执行hexo d时，Hexo无法通过SSH连接到GitHub，导致博客文件部署失败，新文章未能推送到远程仓库。<br>具体解决办法如下。</p><span id="more"></span><div class="toc"><ul><li><a href="#%E6%8A%A5%E9%94%99%E6%97%A5%E5%BF%97">报错日志</a></li><li><a href="#%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95">解决办法</a><ul><li><a href="#%E6%B5%8B%E8%AF%95-ssh-%E8%BF%9E%E6%8E%A5">测试 SSH 连接</a></li><li><a href="#%E6%A3%80%E6%9F%A5%E7%BD%91%E7%BB%9C%E5%92%8C%E9%98%B2%E7%81%AB%E5%A2%99">检查网络和防火墙</a></li><li><a href="#%E4%BD%BF%E7%94%A8-ssh-%E8%BF%87-443-%E7%AB%AF%E5%8F%A3">使用 SSH 过 443 端口</a></li><li><a href="#%E9%87%8D%E6%96%B0%E9%83%A8%E7%BD%B2">重新部署</a></li></ul></li></ul></div><h2><span id="报错日志">报错日志</span></h2><p>报错日志一般为以下内容：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">FATAL Something&#x27;s wrong. Maybe you can find the solution here: https://hexo.io/docs/troubleshooting.html<br>Error: Spawn failed<br>    at ChildProcess.&lt;anonymous&gt; (D:\Blog\node_modules\hexo-deployer-git\node_modules\hexo-util\lib\spawn.js:51:21)<br>    at ChildProcess.emit (node:events:519:28)<br>    at cp.emit (D:\Blog\node_modules\cross-spawn\lib\enoent.js:34:29)<br>    at ChildProcess._handle.onexit (node:internal/child_process:294:12)<br></code></pre></td></tr></table></figure><h2><span id="解决办法">解决办法</span></h2><h3><span id="测试-ssh-连接">测试 SSH 连接</span></h3><ol><li>打开Git Bash（或 CMD&#x2F;PowerShell），运行：</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">ssh -T git@github.com<br></code></pre></td></tr></table></figure><ol start="2"><li>可能结果</li></ol><ul><li>成功：输出 <strong>Hi<your-username>! You’ve successfully authenticated, but GitHub does not provide shell access.</your-username></strong>，表示SSH配置正确，问题可能出在网络或Hexo配置。</li><li>失败：输出 <strong>ssh: connect to host github.com port 22: Connection refused</strong> 或类似错误，继续以下步骤。</li></ul><h3><span id="检查网络和防火墙">检查网络和防火墙</span></h3><ol><li>测试网络连接，运行：</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">ping github.com<br></code></pre></td></tr></table></figure><ul><li>如果返回类似<strong>Reply from 140.82.121.4</strong>，表示网络可达GitHub。</li><li>如果失败，检查 DNS 或网络设置。</li></ul><ol start="2"><li>检查22端口，运行：</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">telnet github.com 22<br></code></pre></td></tr></table></figure><ul><li>成功：显示 <strong>Connected to github.com</strong> 或类似信息。</li><li>失败：显示 <strong>Connection refused 或 Connection timed out</strong> 表明 22 端口被防火墙或 ISP 屏蔽。<br>我在此处提示报错：</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">telnet : 无法将“telnet”项识别为<br>cmdlet、函数、脚本文件或可运行程序的名称。请检查名称的拼写，如果包括路径，请确保路径正确，然后再试一次。<br>所在位置 行:1 字符: 1<br>+ telnet github.com 22<br>+ ~~~~~~<br>    + CategoryInfo          : ObjectNotFound: (telnet:String) [], CommandNotFoundException<br>    + FullyQualifiedErrorId : CommandNotFoundException<br></code></pre></td></tr></table></figure><p>主要问题：ssh: connect to host github.com port 22: Connection refused。<br>ping github.com结果显示网络可以访问GitHub，但SSH连接失败，表明22端口可能被防火墙或网络限制屏蔽。</p><h3><span id="使用-ssh-过-443-端口">使用 SSH 过 443 端口</span></h3><ol><li>编辑 SSH 配置文件<br>打开（或新建）<strong>C:\Users&lt;你的用户名&gt;.ssh\config</strong>，并添加：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">Host github.com<br>  HostName ssh.github.com<br>  User git<br>  Port 443<br>  PreferredAuthentications publickey<br>  IdentityFile ~/.ssh/id_rsa<br></code></pre></td></tr></table></figure><p>保存并关闭。</p><ol start="2"><li>测试连接，运行：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">ssh -T git@github.com<br></code></pre></td></tr></table></figure><p>我这里提示的是：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">The authenticity of host <span class="hljs-string">&#x27;[ssh.github.com]:443 ([20.205.243.160]:443)&#x27;</span> can<span class="hljs-string">&#x27;t be established.</span><br><span class="hljs-string">......一串类似密匙和文件路径的内容（避免泄露隐私就不显示出来了）</span><br><span class="hljs-string">Are you sure you want to continue connecting (yes/no/[fingerprint])?</span><br></code></pre></td></tr></table></figure><p>直接输入<strong>yes</strong>并按回车键即可解决问题。</p><h3><span id="重新部署">重新部署</span></h3><p>接下来应该就没问题了，直接运行：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">hexo cl &amp;&amp; hexo g &amp;&amp; hexo d<br></code></pre></td></tr></table></figure><p>我到这里就已经解决所有问题了，但不保证该方法能够完全有效，可以先尝试看看。</p></div></main></div><script src="/js/broken-image.js?v=1748172256824"></script><footer id="footer" style="margin-top:10px"><p>© 终末地铁. 2021-2025</p></footer></div><script>document.addEventListener("DOMContentLoaded",function(){function r(){var e=document.getElementById("leftColumn"),o=document.querySelector("main");if(e&&o)if(o.style.minHeight="auto",880<window.innerWidth){e=e.offsetHeight;let t=o.scrollHeight;o.querySelectorAll(".post-content .highlight").forEach(e=>{e.classList.contains("collapsed")&&(t-=e.scrollHeight-320)}),t<e?o.style.minHeight=e+"px":o.style.minHeight=t+"px"}else o.style.minHeight="auto"}void 0!==$.fancybox?(console.log("fancybox 已加载，正在初始化..."),$('[data-fancybox="gallery"]').fancybox({loop:!0,buttons:["zoom","slideShow","fullScreen","download","thumbs","close"],protect:!0,image:{preload:!0}}),console.log("找到的灯箱图片数量：",$('[data-fancybox="gallery"]').length),$(".post-content img").each(function(){console.log(`图片尺寸：${this.src} - 宽度=${this.width}px, 高度=${this.height}px`)})):console.error("fancybox 未加载，请检查 head.ejs 中的依赖或网络连接"),"undefined"!=typeof hljs&&config.highlight&&config.highlight.enable&&(hljs.registerLanguage("javascript",window.hljsDefineJavascript),hljs.registerLanguage("css",window.hljsDefineCss),hljs.registerLanguage("scss",window.hljsDefineScss),hljs.initHighlightingOnLoad()),document.querySelectorAll(".post-content figure img, .post-content img").forEach(e=>{var t,o=e.getAttribute("src");!o||o.startsWith("http")||o.startsWith("/")||(t="/"+"2025/05/19/hexo-d部署博客时出现spawn failed解决办法/".replace(/\/[^/]*$/,"")+"/"+o,e.src=t,(e=e.parentElement)&&"A"===e.tagName&&e.hasAttribute("data-fancybox")&&(e.href=t),console.log(`图片路径修正：${o} -> `+t))});document.querySelectorAll(".post-content h1, .post-content h2, .post-content h3, .post-content h4, .post-content h5, .post-content h6").forEach((e,t)=>{var o;e.id||(t=(o=e.textContent.trim())?o.toLowerCase().replace(/[^\w-]+/g,"-").replace(/-+/g,"-"):"header-"+t,e.id=t,console.log(`为标题生成ID: ${e.tagName} - ${o} -> `+t))});var e=document.querySelector(".post-content .toc");e?(e=e.querySelectorAll("a"),console.log(`找到 ${e.length} 个目录链接`),e.forEach((e,t)=>{let o=e.getAttribute("href");o?e.addEventListener("click",function(e){e.preventDefault();let t=o.startsWith("#")?o.slice(1):o;try{t=decodeURIComponent(t)}catch(e){console.warn("解码 href 失败: "+o)}e=document.getElementById(t);e?(window.scrollTo({top:e.getBoundingClientRect().top+window.scrollY-70,behavior:"smooth"}),console.log("跳转到: "+t)):console.warn("未找到目标元素: "+t)}):console.warn(`目录链接 ${t} 缺少 href 属性`)})):console.warn("未找到 .toc 容器，目录可能未生成");let d=320;document.querySelectorAll(".post-content .highlight").forEach((n,e)=>{if(!n.__render__){n.__render__=!0;var l=document.createElement("div"),s=(l.className="highlight-container",n.parentNode.insertBefore(l,n),l.appendChild(n),document.createElement("div"));s.className="button-container",l.appendChild(s);let t=document.createElement("button");t.className="copy-button",t.textContent="复制",s.appendChild(t);l=n.querySelector(".code pre code");let o=l?l.innerText:"";t.addEventListener("click",()=>{var e;navigator.clipboard?navigator.clipboard.writeText(o).then(()=>{t.textContent="已复制",setTimeout(()=>t.textContent="复制",2e3)}).catch(e=>console.error("复制失败:",e)):((e=document.createElement("textarea")).value=o,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),t.textContent="已复制",setTimeout(()=>t.textContent="复制",2e3))});var c,l=n.querySelector(".gutter pre"),a=n.querySelector(".code pre"),i=(l&&a&&(c=l.scrollHeight,i=a.scrollHeight,c=Math.max(c,i),l.style.height=c+"px",a.style.height=c+"px"),n.scrollHeight);if(i>d){let e=document.createElement("button"),t=(e.className="toggle-button",e.textContent="展开",s.appendChild(e),n.classList.add("collapsed"),n.style.maxHeight=d+"px",!(n.style.overflowY="hidden"));e.addEventListener("click",()=>{t||(t=!0,n.classList.contains("collapsed")?(n.classList.remove("collapsed"),n.classList.add("expanded"),e.textContent="收起",n.style.maxHeight=n.scrollHeight+"px",n.style.overflowY="auto"):(n.classList.remove("expanded"),n.classList.add("collapsed"),e.textContent="展开",n.style.maxHeight=d+"px",n.style.overflowY="hidden",window.scrollTo({top:n.getBoundingClientRect().top+window.scrollY-d,behavior:"smooth"})),setTimeout(()=>{r(),t=!1},400))})}else n.classList.add("expanded"),n.style.maxHeight="none",n.style.overflowY="auto"}}),r(),window.addEventListener("resize",r)})</script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{jsonPath:"/live2dw/assets/nico.model.json"},display:{position:"left",width:250,height:300},mobile:{show:!1},react:{opacity:.7},log:!1})</script></body></html>